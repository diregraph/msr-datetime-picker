<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../datetime-picker/date-picker.html">
<link rel="import" href="../datetime-picker/datetime-shared-style.html">
<link rel="import" href="../input-picker-pattern/overlay-picker-mixin.html">
<link rel="import" href="../iron-icons/iron-icons.html">


<dom-module id="calendar-button">
    <script>
        /**
         *  @customElement
         *  @polymer
         *
         *  @extends DatePicker
         **/
        class CalendarButton extends OverlayPickerMixin(DatePicker) {

            static get is() {
                return 'calendar-button';
            }

            _onDblClickDay(e) {
                super.renderCalendar(this.year, this.month, this.day, this.date);
                setTimeout(() => {
                    this.confirm();
                }, 0);
            }

            static get _buttonTemplate() {
                return `
                    <svg class="icon button now" viewBox="0 0 24 24" on-click="now"><g><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></g></svg>
                `;
            }

            _checkKeycode(e) {
                if (!e || e.keyCode === 9) { //tab

                }else{
                    super._checkKeycode(e);
                }
            }

            static get replacementInputTemplate() {
                return `
              <iron-icon icon="icons:event"></iron-icon>
            `;
            }
        }
        window.customElements.define(CalendarButton.is, CalendarButton);
    </script>
</dom-module>